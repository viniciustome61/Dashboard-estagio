<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Controle - Finanças</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
</head>

<body>

    <main id="app">
        <section id="dashboard-custos-fixos" class="dashboard-tela ativo">
            <h2 class="titulo-tela"><i class="fa-solid fa-file-invoice-dollar"></i> Custos Fixos - Análise Anual e Mensal</h2>
            <div class="conteudo-tela">
                
                <div class="filtros-container">
                    <div class="filtro-item">
                        <label for="filtro-mes">Mês:</label>
                        <select id="filtro-mes"></select>
                    </div>
                    <div class="filtro-item">
                        <label for="filtro-empresa">Empresa:</label>
                        <select id="filtro-empresa"></select>
                    </div>
                    <button id="botao-filtrar">Aplicar Filtros</button>
                </div>

                <div class="cards-resumo">
                    <div class="card" id="custo-anual-total-card">
                        <h3>Custo Anual Total</h3>
                        <p id="custo-anual-total">R$ 0,00</p>
                    </div>
                    <div class="card" id="custo-mes-atual-card">
                        <h3>Custo da Seleção</h3>
                        <p id="custo-mes-atual">R$ 0,00</p>
                    </div>
                    <div class="card">
                        <h3>Custo Médio Mensal</h3>
                        <p id="custo-medio-mensal">R$ 0,00</p>
                    </div>
                </div>

                <div class="graficos-container">
                    <div class="grafico-wrapper">
                        <h4 id="titulo-grafico-esquerda">Gasto por Empresa (%) na Seleção</h4>
                        <div class="grafico-canvas-container">
                            <canvas id="graficoAnualEmpresas"></canvas>
                        </div>
                    </div>
                    <div class="grafico-wrapper" id="wrapper-direita">
                        <h4 id="titulo-wrapper-direita">Maiores 5 Custos na Seleção</h4>
                        <div class="grafico-canvas-container" id="container-direita">
                            <canvas id="graficoEvolucaoMensal"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="dashboard-orcamento" class="dashboard-tela">
            <h2 class="titulo-tela"><i class="fa-solid fa-chart-pie"></i> Controle de Contratos</h2>
            <div class="conteudo-tela">
                <p>Painel de Controle de Contratos em construção.</p>
            </div>
        </section>

        <section id="dashboard-contratos" class="dashboard-tela">
            <h2 class="titulo-tela"><i class="fa-solid fa-file-signature"></i> Controle de Contratos</h2>
            <div class="conteudo-tela">
                <div class="contratos-grid" id="contratos-grid">
                    </div>
                <div class="contrato-detalhes" id="contrato-detalhes">
                    <button id="fechar-detalhes-contrato">X</button>
                    <h3 id="detalhe-contrato-empresa">Nome da Empresa</h3>
                    <ul>
                        <li><strong>Gestor:</strong> <span id="detalhe-contrato-gestor"></span></li>
                        <li><strong>Fiscal:</strong> <span id="detalhe-contrato-fiscal"></span></li>
                        <li><strong>Suplente:</strong> <span id="detalhe-contrato-suplente"></span></li>
                        <li><strong>CNPJ:</strong> <span id="detalhe-contrato-cnpj"></span></li>
                        <li><strong>Processo Raiz:</strong> <span id="detalhe-contrato-processo-raiz"></span></li>
                        <li><strong>Processo Fiscalização:</strong> <span id="detalhe-contrato-processo-fiscalizacao"></span></li>
                        <hr>
                        <li><strong>Vigência:</strong> <span id="detalhe-contrato-vigencia"></span></li>
                        <li><strong>1ª Prorrogação:</strong> <span id="detalhe-contrato-prorrogacao1"></span></li>
                        <li><strong>2ª Prorrogação:</strong> <span id="detalhe-contrato-prorrogacao2"></span></li>
                        <li><strong>1ª Repactuação:</strong> <span id="detalhe-contrato-repactuacao1"></span></li>
                        <li><strong>2ª Repactuação:</strong> <span id="detalhe-contrato-repactuacao2"></span></li>
                        <hr>
                        <li><strong>Responsável (Contratada):</strong> <span id="detalhe-contrato-responsavel"></span></li>
                        <li><strong>Email:</strong> <span id="detalhe-contrato-email"></span></li>
                        <li><strong>Telefone:</strong> <span id="detalhe-contrato-telefone"></span></li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="dashboard-frota" class="dashboard-tela">
            <h2 class="titulo-tela"><i class="fa-solid fa-car"></i> Controle de Frota</h2>
            <div class="conteudo-tela">
                <div class="frota-grid" id="frota-grid"></div>
                <div class="frota-detalhes" id="frota-detalhes">
                    <button id="fechar-detalhes-frota">X</button>
                    <h3 id="detalhe-modelo">Modelo do Veículo</h3>
                    <ul>
                        <li><strong>Placa:</strong> <span id="detalhe-placa"></span></li>
                        <li><strong>Chassi:</strong> <span id="detalhe-chassi"></span></li>
                        <li><strong>Diretoria:</strong> <span id="detalhe-diretoria"></span></li>
                        <li><strong>Renavam:</strong> <span id="detalhe-renavam"></span></li>
                        <li><strong>Revisão:</strong> <span id="detalhe-revisao"></span></li>
                        <li><strong>Cartão:</strong> <span id="detalhe-cartao"></span></li>
                        <li id="item-multas" style="display: none;"><strong>Multas:</strong> <span id="detalhe-multas"></span></li>
                        <li id="item-manutencao" style="display: none;"><strong>Manutenção:</strong> <span id="detalhe-manutencao"></span></li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="dashboard-desempenho-frota" class="dashboard-tela">
            <h2 class="titulo-tela"><i class="fa-solid fa-chart-line"></i> Análise de Desempenho da Frota</h2>
            <div class="conteudo-tela">
                
                <div class="filtros-container">
                    <div class="filtro-item">
                        <label for="filtro-mes-desempenho">Mês:</label>
                        <select id="filtro-mes-desempenho"></select>
                    </div>
                    <div class="filtro-item">
                        <label for="filtro-diretoria-desempenho">Diretoria:</label>
                        <select id="filtro-diretoria-desempenho"></select>
                    </div>
                    <div class="filtro-item">
                        <label for="filtro-veiculo-desempenho">Veículo:</label>
                        <select id="filtro-veiculo-desempenho"></select>
                    </div>
                    <div class="filtro-item">
                        <label for="filtro-motorista-desempenho">Motorista:</label>
                        <select id="filtro-motorista-desempenho"></select>
                    </div>
                    <div class="filtro-item">
                        <label for="filtro-combustivel-desempenho">Combustível:</label>
                        <select id="filtro-combustivel-desempenho"></select>
                    </div>
                    <button id="botao-filtrar-desempenho">Analisar</button>
                </div>

                <div class="cards-resumo" id="cards-resumo-desempenho">
                    <div class="card">
                        <h3>Custo Total</h3>
                        <p id="desempenho-custo-total">R$ 0,00</p>
                    </div>
                    <div class="card">
                        <h3>Distância Total</h3>
                        <p id="desempenho-total-km">0 km</p>
                    </div>
                    <div class="card">
                        <h3>Custo Médio / Km</h3>
                        <p id="desempenho-custo-litro">R$ 0,00</p>
                    </div>
                    <div class="card">
                        <h3>Eficiência Média</h3>
                        <p id="desempenho-eficiencia-media">0,0 Km/L</p>
                    </div>
                </div>

                <div class="graficos-container">
            <div class="grafico-wrapper">
                <h4 id="titulo-desempenho-esquerda">Gasto por Diretoria</h4>
                <div class="grafico-canvas-container">
                    <canvas id="grafico-desempenho-esquerda"></canvas>
                </div>
            </div>
            <div class="grafico-wrapper">
                <h4 id="titulo-desempenho-direita">Custo por Litro por Veículo</h4>
                <div class="grafico-canvas-container" id="container-desempenho-direita">
                    <canvas id="grafico-desempenho-direita"></canvas>
                </div>
            </div>
        </div>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
    <script src="script.js" defer></script>
</body>
</html>